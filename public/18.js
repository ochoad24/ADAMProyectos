webpackJsonp([18],{628:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(28),o=(i.n(r),i(228)),a=i.n(o);e.default={name:"TipoActividad",data:function(){return{search:"",dialog:!1,error:0,errorMsj:[],headers:[{text:"Id",align:"left",value:"id"},{text:"Nombre",value:"nombre"}],tipos:[],editedIndex:-1,editedItem:{id:0,nombre:""},defaultItem:{id:0,nombre:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Tipo de Actividad":"Editar Tipo de Actividad"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{validate:function(){return this.error=0,this.errorMsj=[],this.editedItem.nombre||this.errorMsj.push("El nombre del tipo de actividad no puede estar vacio"),this.errorMsj.length&&(this.error=1),this.error},initialize:function(){var t=this;a.a.get("/TipoActividad").then(function(e){t.tipos=e.data}).catch(function(t){console.log(t)})},editItem:function(t){this.editedIndex=this.tipos.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;swal.fire({title:"Quieres eliminar este tipo de Actividad?",text:"No podras revertir la eliminacion!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminalo!",cancelButtonText:"Cancelar"}).then(function(i){i.value&&a.a.delete("/TipoActividad/"+t.id+"/delete").then(function(t){e.initialize(),swal.fire({position:"top-end",type:"success",title:t.data,showConfirmButton:!1,timer:1500})}).catch(function(t){swal.fire({position:"top-end",type:"error",title:t.response.data.error,showConfirmButton:!0})})})},close:function(){var t=this;this.error=0,this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;this.validate()||(this.editedIndex>-1?a()({method:"put",url:"/TipoActividad/editar",data:{id:this.editedItem.id,nombre:this.editedItem.nombre}}).then(function(e){swal.fire({position:"top-end",type:"success",title:e.data,showConfirmButton:!1,timer:1500}),t.initialize(),t.close()}).catch(function(e){swal.fire({position:"top-end",type:"error",title:e.response.data.error,showConfirmButton:!0}),t.initialize(),t.close()}):a()({method:"post",url:"/TipoActividad/nuevo",data:{nombre:t.editedItem.nombre}}).then(function(e){swal.fire({position:"top-end",type:"success",title:e.data,showConfirmButton:!1,timer:1500}),t.initialize(),t.close()}).catch(function(e){swal.fire({position:"top-end",type:"error",title:e.response.data.error,showConfirmButton:!0}),t.initialize(),t.close()}))}}}},629:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row user-list"},[i("div",{staticClass:"col-lg-12"},[i("b-card",{staticClass:"bg-primary-card",attrs:{header:"Tipo de Actividades","header-tag":"h4"}},[i("div",{staticClass:"table-responsive"},[i("v-toolbar",{attrs:{flat:"",color:"white"}},[i("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("v-spacer"),t._v(" "),i("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i("v-btn",t._g({staticClass:"mb-2",attrs:{color:"green darken-1",dark:""}},r),[t._v("Nuevo tipo de actividad")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{label:"Nombre del tipo de actividad"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1)],1)],1)],1),t._v(" "),t.error?[i("v-divider"),t._v(" "),i("div",{staticClass:"text-xs-center"},[t._l(t.errorMsj,function(e){return i("strong",{key:e,staticClass:"red--text text--lighten-1",domProps:{textContent:t._s(e)}})}),t._v(" "),i("br")],2),t._v(" "),i("v-divider")]:t._e(),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.save}},[t._v("Guardar")])],1)],2)],1)],1),t._v(" "),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.tipos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.id))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.nombre))]),t._v(" "),i("td",{staticClass:"justify-center layout px-0"},[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(i){return t.editItem(e.item)}}},[t._v("\n                                edit\n                            ")]),t._v(" "),i("v-icon",{attrs:{small:""},on:{click:function(i){return t.deleteItem(e.item)}}},[t._v("\n                                delete\n                            ")])],1)]}},{key:"no-data",fn:function(){return[i("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Recargar")])]},proxy:!0},{key:"no-results",fn:function(){return[i("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('\n                            No hay resultados de "'+t._s(t.search)+'".\n                        ')])]},proxy:!0}])})],1)])],1)])},staticRenderFns:[]}},703:function(t,e,i){var r=i(44)(i(628),i(629),!1,null,null,null);t.exports=r.exports}});